#! /usr/bin/env python3

import sys
from scapy.all import IP, ICMP, RandIP, RandShort, RandByte, RandInt

class fuzzing_attack(object):

    def check(self):
        print('checking')

    def generator(self):
        n_generations = int(sys.argv[2])
        self.n_packets = int(sys.argv[3])
        ip_dst = sys.argv[4]


        for i in range(n_generations):
            pkts_send = [IP(dst=ip_dst, src=RandIP(), id=RandShort(), ttl=(RandInt % 255))/ICMP(type=RandByte(), seq=RandInt()) for j in range(self.n_packets)]
            self.send_pkts(pkts_send)

    def send_pkts(self, pkts):
        print()

    def __init__(self):
        print('Ps')